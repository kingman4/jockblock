#!/usr/bin/env node
/**
 * Build script to inject environment variables into site-config.js
 * Run this before deploying: node scripts/build-config.js
 */

const fs = require('fs');
const path = require('path');

const MARKET_DATE = process.env.MARKET_DATE || null;

const config = `/**
 * Site Configuration
 * Auto-generated by scripts/build-config.js - do not edit directly
 * Set MARKET_DATE environment variable before build to change this value
 */
export const MARKET_DATE = ${MARKET_DATE ? `'${MARKET_DATE}'` : 'null'};
`;

const outputPath = path.join(__dirname, '..', 'js', 'site-config.js');
fs.writeFileSync(outputPath, config);

console.log(\`site-config.js generated with MARKET_DATE=\${MARKET_DATE || 'null'}\`);
